/**
 * @license React
 * eslint-plugin-react-hooks-unreliable-deps.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';function g(a,d,c){d&&(a.optional?d.has(c)||d.set(c,!0):d.set(c,!1))}
function l(a,d){if("Identifier"===a.type||"JSXIdentifier"===a.type)return a=a.name,d&&d.set(a,!1),a;if("MemberExpression"!==a.type||a.computed){if("OptionalMemberExpression"!==a.type||a.computed){if("ChainExpression"!==a.type||a.computed)throw Error("Unsupported node type: "+a.type);a=a.expression;if("CallExpression"===a.type)throw Error("Unsupported node type: "+a.type);var c=l(a.object,d),e=l(a.property,null);c=c+"."+e;g(a,d,c);return c}c=l(a.object,d);e=l(a.property,null);c=c+"."+e;g(a,d,c);return c}c=
l(a.object,d);e=l(a.property,null);c=c+"."+e;g(a,d,c);return c}function m(a){return"MemberExpression"!==a.type||"Identifier"!==a.object.type||"React"!==a.object.name||"Identifier"!==a.property.type||a.computed?a:a.property}
function n(a,d){var c=m(a);if("Identifier"!==c.type)return-1;switch(c.name){case "useEffect":case "useLayoutEffect":case "useCallback":case "useMemo":return 0;case "useImperativeHandle":return 1;default:if(c===a&&d&&d.additionalHooks){try{var e=l(c,null)}catch(b){if(/Unsupported node type/.test(b.message))return 0;throw b;}return d.additionalHooks.test(e)?0:-1}return-1}}
exports.configs={recommended:{plugins:["react-hooks-unreliable-deps"],rules:{"react-hooks-unreliable-deps/reference-deps":["warn",{avoidObjects:!0}]}}};
exports.rules={"reference-deps":{meta:{type:"suggestion",docs:{description:"checks the array of dependencies for Hooks like useEffect and similar for the existence of objects",recommended:!0,url:"https://www.benmvp.com/blog/object-array-dependencies-react-useEffect-hook/"},fixable:"code",hasSuggestions:!0,schema:[{type:"object",additionalProperties:!1,properties:{additionalHooks:{type:"string"},avoidObjects:{type:"boolean"}}}]},create:function(a){function d(d,b,h,f){"ArrayExpression"!==b.type?a.report({node:b,
message:"React Hook "+f+" was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies."}):b.elements.forEach(function(b){null!==b&&"Identifier"===b.type&&c&&c.avoidObjects&&a.report({node:b,message:"React Hook "+f+" has an object in its dependency array: '"+(b.name+"'. Non-primitive dependencies can result in triggering the callback unnecessarily due to referential equality comparison. Consider destructuring the object outside the ")+
(f+" call or using property accessors to refer to primitive values within the dependency array.")})})}var c={additionalHooks:a.options&&a.options[0]&&a.options[0].additionalHooks?new RegExp(a.options[0].additionalHooks):void 0,avoidObjects:a.options&&a.options[0]&&a.options[0].avoidObjects?!0:!1};return{CallExpression:function(e){var b=n(e.callee,c);if(-1!==b){var h=e.arguments[b],f=e.callee,k=m(f).name;e=e.arguments[b+1];/Effect($|[^a-z])/g.test(k);if(e)switch(h.type){case "FunctionExpression":case "ArrowFunctionExpression":d(h,
e,f,k);break;case "Identifier":if(!e)break;if(e.elements&&e.elements.some(function(a){return a&&"Identifier"===a.type&&a.name===h.name}))break;b=a.getScope().set.get(h.name);if(null==b||null==b.defs)break;b=b.defs[0];if(!b||!b.node)break;if("Variable"!==b.type&&"FunctionName"!==b.type)break;switch(b.node.type){case "FunctionDeclaration":d(b.node,e,f,k);return;case "VariableDeclarator":if(b=b.node.init)switch(b.type){case "ArrowFunctionExpression":case "FunctionExpression":d(b,e,f,k)}}break;default:a.report({node:f,
message:"React Hook "+k+" received a function whose dependencies are unknown. Pass an inline function instead."})}}}}}}};
